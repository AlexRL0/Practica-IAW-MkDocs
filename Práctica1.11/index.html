
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Pr%C3%A1ctica1.1/">
      
      
        <link rel="next" href="../Pr%C3%A1ctica5.4/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Práctica-1.11 - IAW</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="cyan" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-iaw-111-implantacion-de-wordpress-en-aws-utilizando-una-arquitectura-de-tres-niveles" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="IAW" class="md-header__button md-logo" aria-label="IAW" data-md-component="logo">
      
  <img src="../docs/imagenes/esclavo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IAW
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Práctica-1.11
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IAW" class="md-nav__button md-logo" aria-label="IAW" data-md-component="logo">
      
  <img src="../docs/imagenes/esclavo.jpg" alt="logo">

    </a>
    IAW
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Principal
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acerca de
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pr%C3%A1ctica1.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica-1.1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Práctica-1.11
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Práctica-1.11
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pasos-previos-a-la-instalacion" class="md-nav__link">
    <span class="md-ellipsis">
      Pasos previos a la instalación
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implantacion-de-wordpress-en-aws-utilizando-una-arquitectura-de-tres-niveles" class="md-nav__link">
    <span class="md-ellipsis">
      Implantación de Wordpress en AWS utilizando una arquitectura de tres niveles
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-creamos-un-nombre-de-dominio-para-nuestro-servidor-con-la-web-no-ip" class="md-nav__link">
    <span class="md-ellipsis">
      1. Creamos un nombre de dominio para nuestro servidor con la web no-ip
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Creamos un nombre de dominio para nuestro servidor con la web no-ip">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-crear-el-nombre-del-dominio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. Crear el nombre del dominio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-infraestructura-necesaria" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Infraestructura necesaria
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creacion-del-archivo-setup_nfs_server-para-el-servidor-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      2. Creación del archivo setup_nfs_server para el servidor NFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Creación del archivo setup_nfs_server para el servidor NFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-importamos-el-archivo-de-variables-y-mostramos-los-comandos-que-se-van-ejecutando" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. Importamos el archivo de variables y mostramos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-actualizamos-los-repositorios" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2. Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-actualizamos-los-paquetes" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3. Actualizamos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-instalamos-el-servidor-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4. Instalamos el servidor NFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-hacemos-el-directorio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5. hacemos el directorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-modificamos-el-grupo-y-el-propietario-del-directorio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6. Modificamos el grupo y el propietario del directorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-7-copiamos-la-plantilla-exports-a-etcexports" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 7. copiamos la plantilla exports a /etc/exports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-8-reemplazamos-el-valor-de-la-plantilla-de-etcexports" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 8. Reemplazamos el valor de la plantilla de /etc/exports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-9-reiniciamos-el-servicio-de-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 9. Reiniciamos el servicio de NFS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-creacion-del-archivo-setup_nfs_client-para-los-clientes-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      3. Creación del archivo setup_nfs_client para los clientes NFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Creación del archivo setup_nfs_client para los clientes NFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-importamos-el-archivo-de-variables-y-mostramos-los-comandos-que-se-van-ejecutando_1" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. Importamos el archivo de variables y mostramos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-actualizamos-los-repositorios_1" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2. Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-actualizamos-los-paquetes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3. Actualizamos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-instalamos-el-cliente-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4. Instalamos el cliente NFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-montamos-el-directorio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5. Montamos el directorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-cambiamos-la-variable-de-etcfstab" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6. Cambiamos la variable de /etc/fstab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comprobacion-de-que-wordpress-en-la-arquitectura-de-tres-niveles-funciona" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobación de que WordPress en la arquitectura de tres niveles funciona
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pr%C3%A1ctica5.4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica-5.4
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pasos-previos-a-la-instalacion" class="md-nav__link">
    <span class="md-ellipsis">
      Pasos previos a la instalación
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implantacion-de-wordpress-en-aws-utilizando-una-arquitectura-de-tres-niveles" class="md-nav__link">
    <span class="md-ellipsis">
      Implantación de Wordpress en AWS utilizando una arquitectura de tres niveles
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-creamos-un-nombre-de-dominio-para-nuestro-servidor-con-la-web-no-ip" class="md-nav__link">
    <span class="md-ellipsis">
      1. Creamos un nombre de dominio para nuestro servidor con la web no-ip
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Creamos un nombre de dominio para nuestro servidor con la web no-ip">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-crear-el-nombre-del-dominio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. Crear el nombre del dominio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-infraestructura-necesaria" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Infraestructura necesaria
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creacion-del-archivo-setup_nfs_server-para-el-servidor-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      2. Creación del archivo setup_nfs_server para el servidor NFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Creación del archivo setup_nfs_server para el servidor NFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-importamos-el-archivo-de-variables-y-mostramos-los-comandos-que-se-van-ejecutando" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. Importamos el archivo de variables y mostramos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-actualizamos-los-repositorios" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2. Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-actualizamos-los-paquetes" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3. Actualizamos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-instalamos-el-servidor-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4. Instalamos el servidor NFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-hacemos-el-directorio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5. hacemos el directorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-modificamos-el-grupo-y-el-propietario-del-directorio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6. Modificamos el grupo y el propietario del directorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-7-copiamos-la-plantilla-exports-a-etcexports" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 7. copiamos la plantilla exports a /etc/exports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-8-reemplazamos-el-valor-de-la-plantilla-de-etcexports" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 8. Reemplazamos el valor de la plantilla de /etc/exports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-9-reiniciamos-el-servicio-de-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 9. Reiniciamos el servicio de NFS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-creacion-del-archivo-setup_nfs_client-para-los-clientes-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      3. Creación del archivo setup_nfs_client para los clientes NFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Creación del archivo setup_nfs_client para los clientes NFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-importamos-el-archivo-de-variables-y-mostramos-los-comandos-que-se-van-ejecutando_1" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1. Importamos el archivo de variables y mostramos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-actualizamos-los-repositorios_1" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2. Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-actualizamos-los-paquetes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3. Actualizamos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-instalamos-el-cliente-nfs" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4. Instalamos el cliente NFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-montamos-el-directorio" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5. Montamos el directorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-cambiamos-la-variable-de-etcfstab" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6. Cambiamos la variable de /etc/fstab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comprobacion-de-que-wordpress-en-la-arquitectura-de-tres-niveles-funciona" class="md-nav__link">
    <span class="md-ellipsis">
      Comprobación de que WordPress en la arquitectura de tres niveles funciona
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="practica-iaw-111-implantacion-de-wordpress-en-aws-utilizando-una-arquitectura-de-tres-niveles">Practica-IAW-1.11- Implantación de Wordpress en AWS utilizando una arquitectura de tres niveles</h1>
<h2 id="pasos-previos-a-la-instalacion">Pasos previos a la instalación</h2>
<p><strong>para la instalación vamos a tener que crear la siguiente estructura de directorios y archivos:</strong></p>
<p><img alt="" src="../imagenes/directorio-1.11.png" /></p>
<p><strong>Una vez creados los archivos y directorios, procedemos a la implantación de Wordpress en AWS utilizando una arquitectura de tres niveles.</strong></p>
<h2 id="implantacion-de-wordpress-en-aws-utilizando-una-arquitectura-de-tres-niveles">Implantación de Wordpress en AWS utilizando una arquitectura de tres niveles</h2>
<h2 id="1-creamos-un-nombre-de-dominio-para-nuestro-servidor-con-la-web-no-ip">1. Creamos un nombre de dominio para nuestro servidor con la web <code>no-ip</code></h2>
<h3 id="paso-1-crear-el-nombre-del-dominio">Paso 1. Crear el nombre del dominio</h3>
<p>Para crear el nombre de dominio en la página, tenemos que registrarnos y dirigirnos al sitio que muestra la captura y darle a <strong>crear nombre de host</strong>.</p>
<p><img alt="" src="../imagenes/no-ip-1.11.png" /></p>
<p>Una vez dado al recuadro de crear el nombre, nos sale un asistente para poner el nombre de host que queramos, el dominio que queremos que lleve, la dirección ip de la máquina o pc que queremos que tenga ese nombre de host y el tipo de registro que queremos que lleve, en nuestro caso es el <strong>DNS Host A</strong></p>
<p><img alt="" src="../imagenes/no-ip2-1.11.png" /></p>
<p>Hecho esto ya podemos automatizar el proceso de la implantación de Wordpress en AWS utilizando una arquitectura de tres niveles</p>
<h2 id="11-infraestructura-necesaria">1.1 Infraestructura necesaria</h2>
<p>La infraestructura necesaria está compuesta de cuatro máquinas virtuales, una para el balanceador de carga (Load Balancer), dos como frontales web (Front-End) y una como servidor de base de datos MySQL (Back-End).</p>
<ul>
<li>Servidor NFS (Esta práctica, Práctica-IAW-1.11-NFS_server)</li>
<li>Balanceador. (Práctica-IAW-1.10-LoadBalancer).</li>
<li>Frontal Web 1/Cliente NFS. (Práctica-IAW-1.9-Frontend).</li>
<li>Frontal Web 2/Cliente NFS. (Práctica-IAW-1.10-frontend2).</li>
<li>Servidor de Base de Datos MySQL. (Práctica-IAW-1.9-Backend).</li>
</ul>
<h2 id="2-creacion-del-archivo-setup_nfs_server-para-el-servidor-nfs">2. Creación del archivo <code>setup_nfs_server</code> para el servidor NFS</h2>
<h3 id="paso-1-importamos-el-archivo-de-variables-y-mostramos-los-comandos-que-se-van-ejecutando">Paso 1. Importamos el archivo de variables y mostramos los comandos que se van ejecutando</h3>
<pre><code class="language-bash">source .env
</code></pre>
<pre><code class="language-bash">set -ex
</code></pre>
<h3 id="paso-2-actualizamos-los-repositorios">Paso 2. Actualizamos los repositorios</h3>
<pre><code class="language-bash">apt update
</code></pre>
<h3 id="paso-3-actualizamos-los-paquetes">Paso 3. Actualizamos los paquetes</h3>
<pre><code class="language-bash">apt upgrade -y
</code></pre>
<h3 id="paso-4-instalamos-el-servidor-nfs">Paso 4. Instalamos el servidor NFS</h3>
<pre><code class="language-bash">apt install nfs-kernel-server -y
</code></pre>
<h3 id="paso-5-hacemos-el-directorio">Paso 5. hacemos el directorio</h3>
<pre><code class="language-bash">mkdir -p /var/www/html
</code></pre>
<h3 id="paso-6-modificamos-el-grupo-y-el-propietario-del-directorio">Paso 6. Modificamos el grupo y el propietario del directorio</h3>
<pre><code class="language-bash">chown nobody:nogroup /var/www/html
</code></pre>
<h3 id="paso-7-copiamos-la-plantilla-exports-a-etcexports">Paso 7. copiamos la plantilla exports a /etc/exports</h3>
<pre><code class="language-bash">cp ../conf/load_balancer.conf /etc/nginx/sites-available
</code></pre>
<blockquote>
<p>[!IMPORTANT]<br />
El archivo <code>exports</code> lo tenemos que hacer nosotros en la carpeta <code>conf</code> y moverlo al directorio de sitios disponibles de nginx para que lo vea y lo habilite para su funcionamiento. A continuación, pongo el contenido del fichero <code>exports</code>:
<code>bash
/var/www/html FRONTEND_NETWORK(rw,sync,no_root_squash,no_subtree_check)</code></p>
</blockquote>
<h3 id="paso-8-reemplazamos-el-valor-de-la-plantilla-de-etcexports">Paso 8. Reemplazamos el valor de la plantilla de /etc/exports</h3>
<pre><code class="language-bash">sed -i &quot;s#FRONTEND_NETWORK#$FRONTEND_NETWORK#&quot; /etc/exports
</code></pre>
<blockquote>
<p>[!IMPORTANT]<br />
Las variables que irán apareciendo durante los pasos están todas definidas en el archivo <code>.env</code> y en <code>.env.example</code> se pueden ver las variables que hay que tener definidas.</p>
</blockquote>
<h3 id="paso-9-reiniciamos-el-servicio-de-nfs">Paso 9. Reiniciamos el servicio de NFS</h3>
<pre><code class="language-bash">systemctl restart nfs-kernel-server
</code></pre>
<hr />
<h2 id="3-creacion-del-archivo-setup_nfs_client-para-los-clientes-nfs">3. Creación del archivo <code>setup_nfs_client</code> para los clientes NFS</h2>
<h3 id="paso-1-importamos-el-archivo-de-variables-y-mostramos-los-comandos-que-se-van-ejecutando_1">Paso 1. Importamos el archivo de variables y mostramos los comandos que se van ejecutando</h3>
<pre><code class="language-bash">source .env
</code></pre>
<pre><code class="language-bash">set -ex
</code></pre>
<h3 id="paso-2-actualizamos-los-repositorios_1">Paso 2. Actualizamos los repositorios</h3>
<pre><code class="language-bash">apt update
</code></pre>
<h3 id="paso-3-actualizamos-los-paquetes_1">Paso 3. Actualizamos los paquetes</h3>
<pre><code class="language-bash">apt upgrade -y
</code></pre>
<h3 id="paso-4-instalamos-el-cliente-nfs">Paso 4. Instalamos el cliente NFS</h3>
<pre><code class="language-bash">apt install nfs-common -y
</code></pre>
<h3 id="paso-5-montamos-el-directorio">Paso 5. Montamos el directorio</h3>
<pre><code class="language-bash">mount $NFS_SERVER_IP:/var/www/html /var/www/html
</code></pre>
<h3 id="paso-6-cambiamos-la-variable-de-etcfstab">Paso 6. Cambiamos la variable de /etc/fstab</h3>
<pre><code class="language-bash">sed -i '$a\172.31.28.95:/var/www/html /var/www/html  nfs auto,nofail,noatime,nolock,intr,tcp,actimeo=1800 0 0' /etc/fstab
</code></pre>
<h2 id="comprobacion-de-que-wordpress-en-la-arquitectura-de-tres-niveles-funciona">Comprobación de que WordPress en la arquitectura de tres niveles funciona</h2>
<p><img alt="" src="../imagenes/WordPress1-1.11.png" /></p>
<p><img alt="" src="../imagenes/WordPress3-1.11.png" /></p>
<p><img alt="" src="../imagenes/WordPress4-1.11.png" /></p>
<p>Sale el nombre de la Práctica 1.9 porque no le he cambiado el nombre a la página.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>